<html lang="pt-BR"><head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Universidade de CX - Zoop | iFood Pago</title>
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: #FAFAFA;
            color: #2C3E50;
            line-height: 1.6;
        }

        .header {
            background: linear-gradient(135deg, #E06020, #73002d);
            padding: 2rem 0;
            color: white;
            text-align: center;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
        }

        .logo {
            font-size: 1.8rem;
            font-weight: 800;
            margin-bottom: 1rem;
        }

        .zoop-logo { color: #FFFFFF; }
        .divider { color: #FAFAFA; margin: 0 1rem; }
        .ifood-logo { color: #FFFFFF; }

        .main-title {
            font-size: 3.2rem;
            font-weight: 800;
            margin: 1rem 0;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .subtitle {
            font-size: 1.1rem;
            font-weight: 400;
            opacity: 0.9;
            margin-bottom: 2rem;
        }

        .controls {
            display: flex;
            justify-content: center;
            gap: 1rem;
            margin-top: 2rem;
            flex-wrap: wrap;
        }

        .btn {
            padding: 0.8rem 1.5rem;
            border: none;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 1rem;
        }

        .btn-primary { background: #E06020; color: white; }
        .btn-secondary { background: transparent; color: white; border: 2px solid white; }
        .btn-success { background: #27AE60; color: white; }
        .btn-warning { background: #F39C12; color: white; }
        .btn-danger { background: #E74C3C; color: white; }

        .btn:hover { transform: translateY(-2px); box-shadow: 0 5px 15px rgba(0,0,0,0.2); }

        .container {
            max-width: 1200px;
            margin: 2rem auto;
            padding: 0 2rem;
        }

        .section {
            background: white;
            padding: 2rem;
            border-radius: 15px;
            margin-bottom: 2rem;
            box-shadow: 0 8px 30px rgba(0,0,0,0.1);
            border: 2px solid #E06020;
        }

        .section-header {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin-bottom: 2rem;
        }

        .section-icon {
            font-size: 2rem;
            color: #E06020;
        }

        .section-title {
            font-size: 1.8rem;
            font-weight: 700;
            color: #2C3E50;
        }

        .form-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;
        }

        .form-group {
            display: flex;
            flex-direction: column;
        }

        .form-label {
            font-weight: 600;
            color: #2C3E50;
            margin-bottom: 0.5rem;
            font-size: 1rem;
        }

        .form-input, .form-select, .form-textarea {
            padding: 0.8rem;
            border: 2px solid #E0E6ED;
            border-radius: 8px;
            font-size: 1rem;
            transition: all 0.3s ease;
            background: #F8F9FA;
        }

        .form-input:focus, .form-select:focus, .form-textarea:focus {
            outline: none;
            border-color: #E06020;
            background: white;
            box-shadow: 0 0 0 3px rgba(224, 96, 32, 0.1);
        }

        .form-textarea {
            resize: vertical;
            min-height: 100px;
            grid-column: span 2;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;
        }

        .stat-card {
            background: linear-gradient(135deg, #f8f9fa, #e9ecef);
            padding: 1.5rem;
            border-radius: 12px;
            text-align: center;
            border: 2px solid transparent;
            transition: all 0.3s ease;
        }

        .stat-card:hover {
            border-color: #E06020;
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.1);
        }

        .stat-icon {
            font-size: 2.5rem;
            margin-bottom: 0.5rem;
        }

        .stat-value {
            font-size: 2rem;
            font-weight: 700;
            color: #2C3E50;
            margin-bottom: 0.3rem;
        }

        .stat-label {
            color: #718096;
            font-size: 0.9rem;
            font-weight: 500;
        }

        .trainings-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
            gap: 1.5rem;
        }

        .training-card {
            background: white;
            padding: 1.5rem;
            border-radius: 12px;
            border: 2px solid #E0E6ED;
            transition: all 0.3s ease;
        }

        .training-card:hover {
            border-color: #E06020;
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.15);
        }

        .training-title {
            font-size: 1.2rem;
            font-weight: 600;
            color: #2C3E50;
            margin-bottom: 0.8rem;
        }

        .training-description {
            color: #718096;
            font-size: 0.95rem;
            margin-bottom: 1rem;
            line-height: 1.5;
        }

        .training-meta {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
        }

        .training-duration {
            background: rgba(39, 174, 96, 0.1);
            color: #27AE60;
            padding: 0.3rem 0.8rem;
            border-radius: 15px;
            font-size: 0.85rem;
            font-weight: 500;
        }

        .training-category {
            background: rgba(224, 96, 32, 0.1);
            color: #E06020;
            padding: 0.3rem 0.8rem;
            border-radius: 15px;
            font-size: 0.85rem;
            font-weight: 500;
        }

        .training-actions {
            display: flex;
            gap: 0.8rem;
            align-items: center;
        }

        .btn-access {
            flex: 1;
            background: linear-gradient(135deg, #E06020, #d55a1e);
            color: white;
            text-decoration: none;
            padding: 0.7rem 1rem;
            border-radius: 8px;
            font-weight: 600;
            text-align: center;
            transition: all 0.3s ease;
            font-size: 0.9rem;
        }

        .btn-access:hover {
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(224, 96, 32, 0.3);
        }

        .btn-delete {
            background: #E74C3C;
            color: white;
            border: none;
            padding: 0.7rem;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 1rem;
        }

        .btn-delete:hover {
            background: #c0392b;
            transform: scale(1.1);
        }

        .empty-state {
            text-align: center;
            padding: 3rem;
            color: #718096;
        }

        .empty-state-icon {
            font-size: 4rem;
            margin-bottom: 1rem;
            opacity: 0.5;
        }

        .status-message {
            position: fixed;
            top: 2rem;
            right: 2rem;
            padding: 1rem 1.5rem;
            border-radius: 8px;
            color: white;
            font-weight: 600;
            z-index: 1000;
            transform: translateX(400px);
            transition: all 0.3s ease;
        }

        .status-message.show {
            transform: translateX(0);
        }

        .status-success {
            background: #27AE60;
        }

        .status-error {
            background: #E74C3C;
        }

        /* === SISTEMA DE USU√ÅRIOS === */
        .login-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0, 0, 0, 0.9); backdrop-filter: blur(5px);
            display: flex; justify-content: center; align-items: center;
            z-index: 10000; animation: fadeIn 0.5s ease-out;
        }
        .login-container {
            background: white; padding: 3rem; border-radius: 20px; max-width: 500px; width: 90%;
            text-align: center; border: 3px solid #E06020; animation: slideInUp 0.6s ease-out;
            box-shadow: 0 20px 60px rgba(0,0,0,0.4);
        }
        .login-header { margin-bottom: 2rem; }
        .login-logo { font-size: 4rem; margin-bottom: 1rem; }
        .login-title { font-size: 2rem; font-weight: 700; color: #2C3E50; margin-bottom: 0.5rem; }
        .login-subtitle { color: #718096; font-size: 1.1rem; margin-bottom: 2rem; }
        .login-form { display: flex; flex-direction: column; gap: 1.5rem; }
        .form-group { text-align: left; }
        .form-label { display: block; font-weight: 600; color: #2C3E50; margin-bottom: 0.5rem; }

        .form-input {
            width: 100%; padding: 1rem; border: 2px solid #E0E6ED; border-radius: 10px;
            font-size: 1.1rem; transition: all 0.3s ease; background: #F8F9FA; box-sizing: border-box;
        }

        .form-input:focus {
            outline: none; border-color: #E06020; background: white;
            box-shadow: 0 0 0 3px rgba(224, 96, 32, 0.1);
        }

        .login-btn {
            background: linear-gradient(135deg, #E06020, #d55a1e); color: white; border: none;
            padding: 1.2rem 2rem; border-radius: 10px; font-size: 1.1rem; font-weight: 600;
            cursor: pointer; transition: all 0.3s ease; margin-top: 1rem;
        }

        .login-btn:hover { transform: translateY(-2px); box-shadow: 0 8px 25px rgba(224, 96, 32, 0.3); }

        .user-info {
            background: rgba(255, 255, 255, 0.1); padding: 1rem 2rem; border-radius: 10px; margin: 1rem 0;
            display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 1rem;
        }

        .user-welcome { color: white; font-weight: 600; font-size: 1.1rem; }
        .user-email { color: rgba(255, 255, 255, 0.8); font-size: 0.9rem; }
        .user-actions { display: flex; gap: 1rem; flex-wrap: wrap; }

        .user-btn {
            background: rgba(255, 255, 255, 0.2); color: white; border: 1px solid rgba(255, 255, 255, 0.3);
            padding: 0.5rem 1rem; border-radius: 6px; cursor: pointer; transition: all 0.3s ease; font-size: 0.9rem;
        }

        .user-btn:hover { background: rgba(255, 255, 255, 0.3); }

        .user-dashboard {
            background: white; margin: 2rem auto; max-width: 1200px; padding: 2rem;
            border-radius: 15px; box-shadow: 0 8px 30px rgba(0,0,0,0.1); border: 2px solid #27AE60;
        }

        .dashboard-header { display: flex; align-items: center; gap: 1rem; margin-bottom: 2rem; }
        .dashboard-title { font-size: 1.8rem; font-weight: 700; color: #2C3E50; }

        .recent-activity {
            background: #f8f9fa; padding: 1.5rem; border-radius: 12px; border-left: 4px solid #E06020;
        }

        .activity-title { font-size: 1.2rem; font-weight: 600; color: #2C3E50; margin-bottom: 1rem; }

        .activity-item {
            display: flex; justify-content: space-between; padding: 0.5rem 0;
            border-bottom: 1px solid #e2e8f0; font-size: 0.9rem;
        }

        .activity-item:last-child { border-bottom: none; }

        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        @keyframes slideInUp { from { opacity: 0; transform: translateY(30px); } to { opacity: 1; transform: translateY(0); } }

        /* === SIDEBAR RECOLH√çVEL === */
        .sidebar {
            position: fixed; left: 0; top: 0; width: 320px; height: 100vh;
            background: linear-gradient(180deg, #2C3E50 0%, #34495E 50%, #2C3E50 100%);
            color: white; z-index: 1000; transition: all 0.4s ease;
            box-shadow: 4px 0 20px rgba(0,0,0,0.15); overflow-y: auto;
        }
        .sidebar.collapsed { width: 60px; }
        .sidebar-toggle {
            position: absolute; top: 20px; right: -15px; width: 30px; height: 30px;
            background: #E06020; border: none; border-radius: 50%; color: white; cursor: pointer;
            display: flex; align-items: center; justify-content: center; font-size: 12px;
            transition: all 0.3s ease; box-shadow: 0 4px 12px rgba(224, 96, 32, 0.3); z-index: 1001;
        }
        .sidebar-toggle:hover { background: #d55a1e; transform: scale(1.1); }
        .sidebar-toggle .arrow { transition: transform 0.3s ease; }
        .sidebar.collapsed .sidebar-toggle .arrow { transform: rotate(180deg); }
        .sidebar-header { padding: 2rem 1.5rem 1rem; border-bottom: 1px solid rgba(255,255,255,0.1); text-align: center; }
        .sidebar.collapsed .sidebar-header { padding: 1rem 0.5rem; }
        .portal-logo { font-size: 2.5rem; margin-bottom: 0.5rem; transition: all 0.3s ease; }
        .sidebar.collapsed .portal-logo { font-size: 1.8rem; margin-bottom: 0; }
        .portal-title { font-size: 1.1rem; font-weight: 600; margin-bottom: 0.3rem; transition: all 0.3s ease; }
        .sidebar.collapsed .portal-title { opacity: 0; height: 0; margin: 0; }
        .portal-subtitle { font-size: 0.8rem; opacity: 0.8; transition: all 0.3s ease; }
        .sidebar.collapsed .portal-subtitle { opacity: 0; height: 0; }
        .sidebar-content { padding: 1rem 0; }
        .sidebar-section { margin-bottom: 1.5rem; padding: 0 1.5rem; transition: all 0.3s ease; }
        .sidebar.collapsed .sidebar-section { padding: 0 0.5rem; }
        .section-title {
            font-size: 0.9rem; font-weight: 600; color: #E06020; margin-bottom: 1rem;
            text-transform: uppercase; letter-spacing: 0.5px; transition: all 0.3s ease;
        }
        .sidebar.collapsed .section-title { opacity: 0; height: 0; margin: 0; }
        .stat-item {
            display: flex; align-items: center; padding: 0.8rem; margin-bottom: 0.5rem;
            background: rgba(255,255,255,0.05); border-radius: 8px; transition: all 0.3s ease;
            cursor: pointer; border-left: 3px solid transparent;
        }
        .stat-item:hover { background: rgba(255,255,255,0.1); border-left-color: #E06020; transform: translateX(2px); }
        .sidebar.collapsed .stat-item { justify-content: center; padding: 0.8rem 0.5rem; }
        .stat-icon { font-size: 1.5rem; margin-right: 1rem; min-width: 24px; transition: all 0.3s ease; }
        .sidebar.collapsed .stat-icon { margin-right: 0; font-size: 1.2rem; }
        .stat-info { flex: 1; transition: all 0.3s ease; overflow: hidden; }
        .sidebar.collapsed .stat-info { opacity: 0; width: 0; }
        .stat-label { font-size: 0.8rem; opacity: 0.8; margin-bottom: 0.2rem; }
        .stat-value { font-size: 1.1rem; font-weight: 600; color: #E06020; }
        .nav-item {
            display: flex; align-items: center; padding: 1rem; margin-bottom: 0.3rem;
            border-radius: 8px; transition: all 0.3s ease; cursor: pointer; text-decoration: none; color: white;
        }
        .nav-item:hover { background: rgba(224, 96, 32, 0.2); color: white; transform: translateX(4px); }
        .sidebar.collapsed .nav-item { justify-content: center; padding: 1rem 0.5rem; }
        .nav-icon { font-size: 1.3rem; margin-right: 1rem; min-width: 20px; }
        .sidebar.collapsed .nav-icon { margin-right: 0; }
        .nav-text { font-size: 0.9rem; font-weight: 500; transition: all 0.3s ease; }
        .sidebar.collapsed .nav-text { opacity: 0; width: 0; }
        .status-indicator {
            display: flex; align-items: center; padding: 1rem; background: rgba(39, 174, 96, 0.1);
            border-radius: 8px; border-left: 3px solid #27AE60; margin: 1rem 1.5rem 0; transition: all 0.3s ease;
        }
        .sidebar.collapsed .status-indicator { margin: 1rem 0.5rem 0; justify-content: center; }
        .status-dot { width: 8px; height: 8px; background: #27AE60; border-radius: 50%; margin-right: 0.8rem; animation: pulse 2s infinite; }
        .sidebar.collapsed .status-dot { margin-right: 0; }
        .status-text { font-size: 0.8rem; opacity: 0.9; transition: all 0.3s ease; }
        .sidebar.collapsed .status-text { opacity: 0; width: 0; }
        @keyframes pulse { 0%, 100% { opacity: 1; } 50% { opacity: 0.5; } }
        .main-content { transition: margin-left 0.4s ease; margin-left: 320px; }
        .sidebar.collapsed ~ .main-content { margin-left: 60px; }
        .version-info {
            position: absolute; bottom: 1rem; left: 1.5rem; right: 1.5rem; padding: 0.8rem;
            background: rgba(255,255,255,0.05); border-radius: 6px; font-size: 0.7rem;
            opacity: 0.8; text-align: center; transition: all 0.3s ease;
        }
        .sidebar.collapsed .version-info { opacity: 0; height: 0; padding: 0; }

        /* === SISTEMA DE PESQUISA === */
        .search-container {
            background: white;
            margin: 2rem auto;
            max-width: 1200px;
            padding: 2rem;
            border-radius: 15px;
            box-shadow: 0 8px 30px rgba(0,0,0,0.1);
            border: 2px solid #E06020;
        }

        .search-header {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin-bottom: 1.5rem;
        }

        .search-title {
            font-size: 1.5rem;
            font-weight: 700;
            color: #2C3E50;
        }

        .search-input-container {
            position: relative;
            margin-bottom: 1rem;
        }

        .search-input {
            width: 100%;
            padding: 1rem 1rem 1rem 3rem;
            border: 2px solid #E0E6ED;
            border-radius: 10px;
            font-size: 1.1rem;
            transition: all 0.3s ease;
            background: #F8F9FA;
        }

        .search-input:focus {
            outline: none;
            border-color: #E06020;
            background: white;
            box-shadow: 0 0 0 3px rgba(224, 96, 32, 0.1);
        }

        .search-input-icon {
            position: absolute;
            left: 1rem;
            top: 50%;
            transform: translateY(-50%);
            color: #A0AEC0;
            font-size: 1.2rem;
        }

        .search-stats {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
            padding: 0.5rem;
        }

        .results-count {
            color: #718096;
            font-weight: 500;
        }

        .clear-search {
            background: none;
            border: none;
            color: #E06020;
            cursor: pointer;
            font-weight: 600;
            padding: 0.5rem 1rem;
            border-radius: 6px;
            transition: all 0.3s ease;
        }

        .clear-search:hover {
            background: rgba(224, 96, 32, 0.1);
        }

        .search-suggestions {
            display: flex;
            gap: 0.5rem;
            flex-wrap: wrap;
            margin-top: 1rem;
        }

        .search-tag {
            background: rgba(224, 96, 32, 0.1);
            color: #E06020;
            padding: 0.3rem 0.8rem;
            border-radius: 15px;
            font-size: 0.9rem;
            border: none;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .search-tag:hover {
            background: #E06020;
            color: white;
        }

        .training-card.hidden {
            display: none !important;
        }

        .highlight {
            background: yellow;
            padding: 0.1rem 0.2rem;
            border-radius: 3px;
            font-weight: bold;
        }

        /* === SISTEMA DE CONTADORES COMPARTILHADOS === */
        .shared-stats {
            background: rgba(52, 152, 219, 0.1);
            border-left: 3px solid #3498db;
            margin: 1rem 1.5rem;
            padding: 1rem;
            border-radius: 8px;
            transition: all 0.3s ease;
        }

        .sidebar.collapsed .shared-stats {
            margin: 1rem 0.5rem;
            padding: 0.8rem 0.5rem;
        }

        .shared-stats-title {
            font-size: 0.8rem;
            font-weight: 600;
            color: #3498db;
            margin-bottom: 0.8rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            transition: all 0.3s ease;
        }

        .sidebar.collapsed .shared-stats-title {
            opacity: 0;
            height: 0;
            margin: 0;
        }

        .shared-counter {
            display: flex;
            align-items: center;
            margin-bottom: 0.5rem;
            transition: all 0.3s ease;
        }

        .sidebar.collapsed .shared-counter {
            justify-content: center;
        }

        .counter-icon {
            font-size: 1.2rem;
            margin-right: 0.8rem;
            min-width: 20px;
        }

        .sidebar.collapsed .counter-icon {
            margin-right: 0;
        }

        .counter-info {
            flex: 1;
            transition: all 0.3s ease;
        }

        .sidebar.collapsed .counter-info {
            opacity: 0;
            width: 0;
        }

        .counter-label {
            font-size: 0.7rem;
            opacity: 0.8;
            margin-bottom: 0.1rem;
        }

        .counter-value {
            font-size: 1rem;
            font-weight: 600;
            color: #3498db;
        }

        .sync-indicator {
            display: flex;
            align-items: center;
            font-size: 0.7rem;
            opacity: 0.7;
            margin-top: 0.5rem;
            transition: all 0.3s ease;
        }

        .sidebar.collapsed .sync-indicator {
            opacity: 0;
            height: 0;
        }

        .sync-dot {
            width: 6px;
            height: 6px;
            background: #27AE60;
            border-radius: 50%;
            margin-right: 0.5rem;
            animation: pulse 2s infinite;
        }

        .sync-dot.syncing {
            background: #f39c12;
            animation: spin 1s linear infinite;
        }

        .sync-dot.error {
            background: #e74c3c;
            animation: none;
        }

        @keyframes spin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        .admin-panel {
            background: rgba(231, 76, 60, 0.1);
            border: 2px solid #e74c3c;
            margin: 1rem 1.5rem 0;
            padding: 1rem;
            border-radius: 8px;
            display: none;
        }

        .sidebar.collapsed .admin-panel {
            margin: 1rem 0.5rem 0;
            padding: 0.5rem;
        }

        .admin-title {
            font-size: 0.8rem;
            font-weight: 600;
            color: #e74c3c;
            margin-bottom: 0.8rem;
            display: flex;
            align-items: center;
        }

        .admin-actions {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }

        .admin-btn {
            background: rgba(231, 76, 60, 0.2);
            color: #e74c3c;
            border: 1px solid rgba(231, 76, 60, 0.3);
            padding: 0.5rem;
            border-radius: 4px;
            font-size: 0.7rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .admin-btn:hover {
            background: rgba(231, 76, 60, 0.3);
        }

        .sidebar.collapsed .admin-btn {
            padding: 0.3rem;
            font-size: 0.6rem;
        }

        @media (max-width: 768px) {
            .sidebar { width: 100vw; transform: translateX(-100%); }
            .sidebar.mobile-open { transform: translateX(0); }
            .main-content { margin-left: 0; }
            .sidebar-toggle { position: fixed; top: 20px; left: 20px; }
            .search-container { margin: 1rem; padding: 1.5rem; }
            .search-stats { flex-direction: column; gap: 1rem; text-align: center; }
            .search-suggestions { justify-content: center; }
        }
    </style>
</head>
<body>

<div class="login-overlay" id="loginOverlay" style="display: none;">
    <div class="login-container">
        <div class="login-header">
            <div class="login-logo">üéì</div>
            <h1 class="login-title">Universidade CX</h1>
            <p class="login-subtitle">Entre com seus dados para come√ßar</p>
        </div>
        <form class="login-form" id="loginForm">
            <div class="form-group">
                <label class="form-label">üë§ Nome Completo</label>
                <input type="text" id="userName" class="form-input" placeholder="Seu nome" required="">
            </div>
            <div class="form-group">
                <label class="form-label">üìß E-mail</label>
                <input type="email" id="userEmail" class="form-input" placeholder="seu@email.com" required="">
            </div>
            <button type="submit" class="login-btn">üöÄ Entrar</button>
        </form>
        <div style="margin-top: 1.5rem; color: #718096; font-size: 0.9rem;">
            üîí Dados salvos apenas no seu navegador
        </div>
    </div>
</div>

<div class="sidebar" id="sidebar">
    <button class="sidebar-toggle" onclick="toggleSidebar()">
        <span class="arrow">‚óÄ</span>
    </button>
    
    <div class="sidebar-header">
        <div class="portal-logo">üéì</div>
        <div class="portal-title">Universidade CX</div>
        <div class="portal-subtitle">Zoop | iFood Pago</div>
    </div>
    
    <div class="sidebar-content">
        <div class="sidebar-section">
            <div class="section-title">üìä Estat√≠sticas</div>
            <div class="stat-item">
                <div class="stat-icon">üìö</div>
                <div class="stat-info">
                    <div class="stat-label">Treinamentos</div>
                    <div class="stat-value" id="sidebarTrainingCount">11</div>
                </div>
            </div>
            <div class="stat-item">
                <div class="stat-icon">üë•</div>
                <div class="stat-info">
                    <div class="stat-label">Usu√°rios Hoje</div>
                    <div class="stat-value" id="todayUsers">1+</div>
                </div>
            </div>
            <div class="stat-item">
                <div class="stat-icon">‚è±Ô∏è</div>
                <div class="stat-info">
                    <div class="stat-label">Tempo Online</div>
                    <div class="stat-value" id="uptime">6m</div>
                </div>
            </div>
        </div>
        
        <div class="sidebar-section">
            <div class="section-title">üöÄ Navega√ß√£o</div>
            <div class="nav-item" onclick="scrollToSearch()">
                <div class="nav-icon">üîç</div>
                <div class="nav-text">Pesquisar</div>
            </div>
            <div class="nav-item" onclick="scrollToTrainings()">
                <div class="nav-icon">üìã</div>
                <div class="nav-text">Treinamentos</div>
            </div>
            <div class="nav-item" onclick="toggleDashboard()">
                <div class="nav-icon">üìä</div>
                <div class="nav-text">Dashboard</div>
            </div>
        </div>
        
        <div class="sidebar-section">
            <div class="section-title">üìÇ Categorias</div>
            <div class="nav-item" onclick="searchByTag('processos')">
                <div class="nav-icon">‚öôÔ∏è</div>
                <div class="nav-text">Processos</div>
            </div>
            <div class="nav-item" onclick="searchByTag('tecnologia')">
                <div class="nav-icon">üíª</div>
                <div class="nav-text">Tecnologia</div>
            </div>
            <div class="nav-item" onclick="searchByTag('credenciamento')">
                <div class="nav-icon">üìã</div>
                <div class="nav-text">Credenciamento</div>
            </div>
        </div>

        <!-- Estat√≠sticas Compartilhadas -->
        <div class="shared-stats">
            <div class="shared-stats-title">üåê Dados Globais</div>
            
            <div class="shared-counter">
                <div class="counter-icon">üë•</div>
                <div class="counter-info">
                    <div class="counter-label">Total de Acessos</div>
                    <div class="counter-value" id="globalAccessCount">17 (local)</div>
                </div>
            </div>
            
            <div class="shared-counter">
                <div class="counter-icon">üì±</div>
                <div class="counter-info">
                    <div class="counter-label">Usu√°rios √önicos</div>
                    <div class="counter-value" id="uniqueUsersCount">1 (local)</div>
                </div>
            </div>
            
            <div class="shared-counter">
                <div class="counter-icon">üìÖ</div>
                <div class="counter-info">
                    <div class="counter-label">Hoje</div>
                    <div class="counter-value" id="todayAccessCount">1 (local)</div>
                </div>
            </div>
            
            <div class="sync-indicator">
                <div class="sync-dot error" id="syncStatus"></div>
                <span id="syncText">Offline</span>
            </div>
        </div>
        
        <!-- Painel Admin -->
        <div class="admin-panel" id="adminPanel" style="display: block;">
            <div class="admin-title">üîß Painel Admin</div>
            <div class="admin-actions">
                <button class="admin-btn" onclick="resetCounters()">üóëÔ∏è Zerar Contadores</button>
                <button class="admin-btn" onclick="exportStatsData()">üì§ Exportar Dados</button>
            </div>
        </div>
    </div>
    
    <div class="status-indicator">
        <div class="status-dot"></div>
        <div class="status-text">Sistema Online</div>
    </div>
    
    <div class="version-info"></div>
</div>

<div class="main-content">

    <div class="header">
        <div class="logo">
            <span class="zoop-logo">Zoop</span>
            <span class="divider">|</span>
            <span class="ifood-logo">iFood Pago</span>
        </div>
        <h1 class="main-title">üéì Universidade de CX</h1>
        <p class="subtitle">Portal de Treinamentos e Desenvolvimento em Customer Experience</p>
                    <div style="background: rgba(255,255,255,0.1); padding: 15px; border-radius: 10px; margin-top: 15px; border-left: 4px solid #E06020;">
                        <strong>üìã Como Usar Este Portal:</strong><br>
                        ‚Ä¢ üì• <strong>Baixar Treinamento:</strong> Clique no bot√£o para fazer download do arquivo HTML<br>
                        ‚Ä¢ üíª <strong>Abrir Treinamento:</strong> Ap√≥s o download, abra o arquivo HTML baixado<br>
                        ‚Ä¢ üì§ <strong>Compartilhar:</strong> Envie este portal para outras pessoas - elas conseguir√£o baixar os treinamentos
                    </div>

        <div class="user-info" id="userInfo" style="display: flex;">
            <div>
                <div class="user-welcome">üëã <span id="displayName">Rodrigo</span></div>
                <div class="user-email" id="displayEmail">teixeira.rodrigo@ifood.com.br</div>
            </div>
            <div class="user-actions">
                <button class="user-btn" onclick="toggleDashboard()">üìä Dashboard</button>
                <button class="user-btn" onclick="exportData()">üì§ Exportar</button>
                <button class="user-btn" onclick="logout()">üö™ Sair</button>
            </div>
        </div>

        <div class="controls">
            <button class="btn btn-success" onclick="saveDashboard()">üíæ Salvar Dashboard</button>
            <button class="btn btn-secondary" onclick="exportData()">üì§ Exportar Dados</button>
            <label class="btn btn-warning" for="importFile">üì• Importar Dados</label>
            <input type="file" id="importFile" style="display: none;" accept="*" onchange="importData(this)">
            <button class="btn btn-danger" onclick="clearAllData()">üóëÔ∏è Limpar Dados</button>
            <button class="btn btn-primary" onclick="window.print()">üñ®Ô∏è Imprimir</button>
            <button class="btn btn-secondary" onclick="toggleFullscreen()">üñ•Ô∏è Tela Cheia</button>
        </div>
    </div>

    <div class="user-dashboard" id="userDashboard" style="display: none;">
        <div class="dashboard-header">
            <div class="search-icon">üìä</div>
            <div class="dashboard-title">Meu Dashboard</div>
        </div>
        <div class="stats-grid">
            <div class="stat-card"><div class="stat-icon">üéØ</div><div class="stat-value" id="totalAccess">16</div><div class="stat-label">Acessos</div></div>
            <div class="stat-card"><div class="stat-icon">üìö</div><div class="stat-value" id="trainingCount">0</div><div class="stat-label">Treinamentos</div></div>
            <div class="stat-card"><div class="stat-icon">üîç</div><div class="stat-value" id="searchCount">8</div><div class="stat-label">Pesquisas</div></div>
            <div class="stat-card"><div class="stat-icon">‚è∞</div><div class="stat-value" id="lastVisit">Hoje</div><div class="stat-label">√öltimo Acesso</div></div>
        </div>
        <div class="recent-activity">
            <div class="activity-title">üìã Atividades</div>
            <div id="activityLog"><div class="activity-item"><span>üîê Login realizado</span><span>19/01/2026</span></div><div class="activity-item"><span>üîç Pesquisou: "tecnologia"</span><span>09/01/2026</span></div><div class="activity-item"><span>üîç Pesquisou: "processos"</span><span>09/01/2026</span></div><div class="activity-item"><span>üìä Visualizou dashboard</span><span>09/01/2026</span></div><div class="activity-item"><span>üìã Navegou para treinamentos</span><span>09/01/2026</span></div></div>
        </div>
    </div>

    <div class="search-container">
        <div class="search-header">
            <div class="search-icon">üîç</div>
            <div class="search-title">Pesquisar Treinamentos</div>
        </div>
        
        <div class="search-input-container">
            <div class="search-input-icon">üîé</div>
            <input type="text" class="search-input" id="searchInput" placeholder="Digite o nome, categoria ou palavras-chave do treinamento..." autocomplete="off">
        </div>
        
        <div class="search-stats">
            <div class="results-count" id="resultsCount">Mostrando todos os 9 treinamentos</div>
            <button class="clear-search" onclick="clearSearch()" id="clearBtn" style="display: none;">
                üîÑ Limpar
            </button>
        </div>
        
        <div class="search-suggestions">
            <button class="search-tag" onclick="searchByTag('credenciamento')">üìã Credenciamento</button>
            <button class="search-tag" onclick="searchByTag('regras')">‚≠ê Regras</button>
            <button class="search-tag" onclick="searchByTag('split')">üí≥ Split</button>
            <button class="search-tag" onclick="searchByTag('liquida√ß√£o')">üí∞ Liquida√ß√£o</button>
            <button class="search-tag" onclick="searchByTag('processos')">‚öôÔ∏è Processos</button>
            <button class="search-tag" onclick="searchByTag('tecnologia')">üîß Tecnologia</button>
        </div>
    </div>

    <div class="container">
        <div class="section">
            <div class="section-header">
                <div class="section-icon">‚ûï</div>
                <h2 class="section-title">Adicionar Novo Treinamento</h2>
            </div>
            
            <form id="trainingForm" class="form-grid">
                <div class="form-group">
                    <label for="title" class="form-label">üìö T√≠tulo do Treinamento</label>
                    <input type="text" id="title" class="form-input" required="" placeholder="Ex: Atendimento de Excel√™ncia">
                </div>
                
                <div class="form-group">
                    <label for="category" class="form-label">üìÇ Categoria</label>
                    <select id="category" class="form-select" required="">
                        <option value="">Selecione uma categoria</option>
                        <option value="Atendimento ao Cliente">Atendimento ao Cliente</option>
                        <option value="T√©cnicas de Vendas">T√©cnicas de Vendas</option>
                        <option value="Comunica√ß√£o Efetiva">Comunica√ß√£o Efetiva</option>
                        <option value="Lideran√ßa e Gest√£o">Lideran√ßa e Gest√£o</option>
                        <option value="Processos e Qualidade">Processos e Qualidade</option>
                        <option value="Tecnologia e Ferramentas">Tecnologia e Ferramentas</option>
                        <option value="Compliance e √âtica">Compliance e √âtica</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="duration" class="form-label">‚è±Ô∏è Dura√ß√£o</label>
                    <input type="text" id="duration" class="form-input" required="" placeholder="Ex: 2h 30min">
                </div>
                
                <div class="form-group">
                    <label for="link" class="form-label">üîó Link/Arquivo do Treinamento</label>
                    <input type="url" id="link" class="form-input" required="" placeholder="https://exemplo.com/treinamento ou caminho do arquivo">
                </div>
                
                <div class="form-group">
                    <label for="description" class="form-label">üìù Descri√ß√£o</label>
                    <textarea id="description" class="form-textarea" required="" placeholder="Descreva brevemente o conte√∫do e objetivos do treinamento"></textarea>
                </div>
            </form>
            
            <div class="controls">
                <button type="submit" form="trainingForm" class="btn btn-primary">‚úÖ Adicionar Treinamento</button>
            </div>
        </div>

        <div class="section">
            <div class="section-header">
                <div class="section-icon">üìä</div>
                <h2 class="section-title">Estat√≠sticas Gerais</h2>
            </div>
            
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-icon">üìö</div>
                    <div class="stat-value" id="totalTrainings">11</div>
                    <div class="stat-label">Total de Treinamentos</div>
                </div>
                
                <div class="stat-card">
                    <div class="stat-icon">üìÇ</div>
                    <div class="stat-value" id="totalCategories">3</div>
                    <div class="stat-label">Categorias Ativas</div>
                </div>
                
                <div class="stat-card">
                    <div class="stat-icon">‚è±Ô∏è</div>
                    <div class="stat-value" id="totalHours">6h</div>
                    <div class="stat-label">Carga Hor√°ria Total</div>
                </div>
            </div>
        </div>

        <div class="section">
            <div class="section-header">
                <div class="section-icon">üéì</div>
                <h2 class="section-title">Galeria de Treinamentos</h2>
            </div>
            
            <div class="trainings-grid" id="trainingsGrid"><div class="training-card">
    <h3 class="training-title">Os 4 Pilares do Customer Experience</h3>
    <p class="training-description">Treinamento completo sobre os fundamentos essenciais de CX: Pessoas, Processos, Tecnologia e Cultura</p>
    <div class="training-meta">
        <span class="training-duration">1h 30min</span>
        <span class="training-category">Customer Experience</span>
    </div>
    <div class="training-actions">
        <a href="Os%204%20Pilares%20do%20Customer%20Experience.html" target="_blank" class="btn-access">üì• Acessar Treinamento</a>
    </div>
</div>

<div class="training-card">
    <h3 class="training-title">Treinamento Pricing</h3>
    <p class="training-description">Estrat√©gias e melhores pr√°ticas de precifica√ß√£o para produtos e servi√ßos</p>
    <div class="training-meta">
        <span class="training-duration">2h</span>
        <span class="training-category">Processos</span>
    </div>
    <div class="training-actions">
        <a href="Treinamento%20Pricing.html" target="_blank" class="btn-access">üì• Acessar Treinamento</a>
    </div>
</div>

<div class="training-card">
    <h3 class="training-title">12 Regras de Ouro</h3>
    <p class="training-description">Treinamento completo das 12 regras essenciais para excel√™ncia em atendimento ao cliente</p>
    <div class="training-meta">
        <span class="training-duration">1h 30min</span>
        <span class="training-category">Atendimento ao Cliente</span>
    </div>
    <div class="training-actions">
        <a href="treinamento_12_regras_completo_final%20(2).html" target="_blank" class="btn-access">üì• Acessar Treinamento</a>
    </div>
</div>

<div class="training-card">
    <h3 class="training-title">Credenciamento de Sellers</h3>
    <p class="training-description">Processo completo de credenciamento de sellers com as novas regras e obrigatoriedades</p>
    <div class="training-meta">
        <span class="training-duration">1h 30min</span>
        <span class="training-category">Processos</span>
    </div>
    <div class="training-actions">
        <a href="treinamento_onboarding_Cred_final_real%20(1).html" target="_blank" class="btn-access">üì• Acessar Treinamento</a>
    </div>
</div>

<div class="training-card">
    <h3 class="training-title">PIX por Aproxima√ß√£o</h3>
    <p class="training-description">Nova funcionalidade de Pix por aproxima√ß√£o via NFC - Concorrente direto do TEP</p>
    <div class="training-meta">
        <span class="training-duration">1h</span>
        <span class="training-category">Tecnologia e Ferramentas</span>
    </div>
    <div class="training-actions">
        <a href="treinamento_pix_aproximacao_zoop_light%20(2).html" target="_blank" class="btn-access">üì• Acessar Treinamento</a>
    </div>
</div>

<div class="training-card">
    <h3 class="training-title">Registro de Receb√≠veis - CERC</h3>
    <p class="training-description">Processo completo de registro de receb√≠veis na CERC (Centralizadora da Estrutura de Receb√≠veis de Cart√µes)</p>
    <div class="training-meta">
        <span class="training-duration">2h</span>
        <span class="training-category">Tecnologia e Ferramentas</span>
    </div>
    <div class="training-actions">
        <a href="treinamento_registro_recebiveis_cerc_zoop.html" target="_blank" class="btn-access">üì• Acessar Treinamento</a>
    </div>
</div>

<div class="training-card">
    <h3 class="training-title">Repasse Financeiro - Liquida√ß√£o</h3>
    <p class="training-description">Processo de liquida√ß√£o e repasse financeiro de transa√ß√µes para sellers</p>
    <div class="training-meta">
        <span class="training-duration">2h</span>
        <span class="training-category">Processos</span>
    </div>
    <div class="training-actions">
        <a href="treinamento_repasse_financeiro_zoop%20(2).html" target="_blank" class="btn-access">üì• Acessar Treinamento</a>
    </div>
</div></div><div class="training-actions"><a href="file:///Users/teixeira.rodrigo/Downloads/treinamento_onboarding_Cred_final_real%20(1).html" target="_blank" class="btn-access">üì• Baixar Treinamento</a><button onclick="deleteTraining(1764954772716)" class="btn-delete">üóëÔ∏è</button></div></div><div class="training-card"><h3 class="training-title">Treinamento - 12 Regras de Ouro</h3><p class="training-description">Treinamento voltado para as nossas regras de Excel√™ncia em atendimento.</p><div class="training-meta"><span class="training-duration">1h 30min</span><span class="training-category">Processos</span></div><div class="training-actions"><a href="file:///Users/teixeira.rodrigo/Downloads/treinamento_12_regras_completo_final.html" target="_blank" class="btn-access">üì• Baixar Treinamento</a><button onclick="deleteTraining(1764956665339)" class="btn-delete">üóëÔ∏è</button></div></div><div class="training-card"><h3 class="training-title">Atendimento de Excel√™ncia</h3><p class="training-description">Atendimento com linguagem mais pratica</p><div class="training-meta"><span class="training-duration">1h 30m</span><span class="training-category">Atendimento ao Cliente</span></div><div class="training-actions"><a href="file:///Users/teixeira.rodrigo/Downloads/treinamento_cards_detalhados%20(2).html" target="_blank" class="btn-access">üì• Baixar Treinamento</a><button onclick="deleteTraining(1766163109430)" class="btn-delete">üóëÔ∏è</button></div></div><div class="training-card"><h3 class="training-title">Liquida√ß√£o</h3><p class="training-description">Treinamento completo sobre o processo pelo qual a Institui√ß√£o Credenciadora realiza o repasse das transa√ß√µes associadas a um seller, transformando receb√≠veis em saldo na conta gr√°fica e efetuando a gera√ß√£o e liquida√ß√£o das transfer√™ncias.</p><div class="training-meta"><span class="training-duration">2h </span><span class="training-category">Tecnologia e Ferramentas</span></div><div class="training-actions"><a href="file:///Users/teixeira.rodrigo/Downloads/treinamento_liquidacao_rotas.html" target="_blank" class="btn-access">üì• Baixar Treinamento</a><button onclick="deleteTraining(1768858104867)" class="btn-delete">üóëÔ∏è</button></div></div><div class="training-card"><h3 class="training-title">Pix - POS - Video</h3><p class="training-description">Bernardo Lima apresentou a nova funcionalidade de Pix por aproxima√ß√£o da Zup, que permite a transmiss√£o de informa√ß√µes do Pix via NFC para o dispositivo do comprador, tornando-o um concorrente direto do TEP. Ele explicou a jornada do pagamento, compatibilidade com dispositivos Android NFC e terminais Smart da Zup, e as atualiza√ß√µes e o rollout j√° realizados. Bernardo Lima, Izabella Santos, N√∫bia Malvar, Caique Tavares, Nicoly Moraes e Liliane Sena discutiram requisitos, compatibilidade banc√°ria e a exclusividade da funcionalidade da Zup.
</p><div class="training-meta"><span class="training-duration">0h 32 min</span><span class="training-category">Atendimento ao Cliente</span></div><div class="training-actions"><a href="https://drive.google.com/file/d/1SdYBNG8E8mzhK1Nv0KXo0jGZZWWRML49/view?usp=drive_link" target="_blank" class="btn-access">üì• Baixar Treinamento</a><button onclick="deleteTraining(1769175054561)" class="btn-delete">üóëÔ∏è</button></div></div><div class="training-card"><h3 class="training-title">PIX Parte 1 - Video</h3><p class="training-description">Link do Material: https://docs.google.com/presentation/d/1ywX-96gKcHV3JUNuzTxk9D4bBCUEEPIi/edit?usp=drive_link&amp;ouid=103879541825733598826&amp;rtpof=true&amp;sd=true

</p><div class="training-meta"><span class="training-duration">00h 33 min</span><span class="training-category">Atendimento ao Cliente</span></div><div class="training-actions"><a href="https://drive.google.com/file/d/17f6HiCivJHCkqvsv6Wvvnd6Nt6QQ2QU9/view?usp=drive_link" target="_blank" class="btn-access">üì• Baixar Treinamento</a><button onclick="deleteTraining(1769175181624)" class="btn-delete">üóëÔ∏è</button></div></div><div class="training-card"><h3 class="training-title">Pix Parte 2 - Video</h3><p class="training-description">Material de apoio: https://docs.google.com/presentation/d/1DCtELf2gAy9Bu1YA6l69GlsFKcwz4QAC/edit?usp=drive_link&amp;ouid=103879541825733598826&amp;rtpof=true&amp;sd=true</p><div class="training-meta"><span class="training-duration">00h : 31 Min</span><span class="training-category">Atendimento ao Cliente</span></div><div class="training-actions"><a href="https://drive.google.com/file/d/17m44pZ7Fn7lEIXudxatZtE1riwcSdUrZ/view?usp=drive_link" target="_blank" class="btn-access">üì• Baixar Treinamento</a><button onclick="deleteTraining(1769175279073)" class="btn-delete">üóëÔ∏è</button></div></div><div class="training-card"><h3 class="training-title">Split de Pagamento - Video</h3><p class="training-description">Material de apoio: https://docs.google.com/presentation/d/1YnMghAgYjRMruZHeAQFJXN73syI3wGDN/edit?usp=drive_link&amp;ouid=103879541825733598826&amp;rtpof=true&amp;sd=true</p><div class="training-meta"><span class="training-duration">00h : 32 Min</span><span class="training-category">Atendimento ao Cliente</span></div><div class="training-actions"><a href="https://drive.google.com/file/d/1Blq7T_sQ9pmIzTkXwT-kGABSinYWdAyF/view?usp=drive_link" target="_blank" class="btn-access">üì• Baixar Treinamento</a><button onclick="deleteTraining(1769175402603)" class="btn-delete">üóëÔ∏è</button></div></div><div class="training-card"><h3 class="training-title">Liquida√ß√£o</h3><p class="training-description">Material de apoio do treinamento sobre Repasse Financeiro
</p><div class="training-meta"><span class="training-duration">00h : 30 Min</span><span class="training-category">Atendimento ao Cliente</span></div><div class="training-actions"><a href="https://docs.google.com/presentation/d/1CCKLYPNK6lgq_ybIHVl02dRiv_sKATUe/edit?usp=drive_link&amp;ouid=103879541825733598826&amp;rtpof=true&amp;sd=true" target="_blank" class="btn-access">üì• Baixar Treinamento</a><button onclick="deleteTraining(1769175613791)" class="btn-delete">üóëÔ∏è</button></div></div><div class="training-card"><h3 class="training-title">Registro de Receb√≠vel - Video</h3><p class="training-description">Material de apoio do treinamento sobre Registro de Receb√≠vel - CERC
</p><div class="training-meta"><span class="training-duration">00h : 58 Min</span><span class="training-category">Atendimento ao Cliente</span></div><div class="training-actions"><a href="https://drive.google.com/file/d/1cibAf5lZLMxd0Ll55b5v2JutVsC0GdzF/view?usp=drive_link" target="_blank" class="btn-access">üì• Baixar Treinamento</a><button onclick="deleteTraining(1769175754115)" class="btn-delete">üóëÔ∏è</button></div></div><div class="training-card"><h3 class="training-title">Adquir√™ncia - Cart√£o Presente</h3><p class="training-description">Material de Apoio: https://docs.google.com/presentation/d/1dxZQg2J1qz2EQCvhv93Sf7R7sVpWlAJf/edit?usp=drive_link&amp;ouid=103879541825733598826&amp;rtpof=true&amp;sd=true</p><div class="training-meta"><span class="training-duration">00h : 42 Min</span><span class="training-category">Atendimento ao Cliente</span></div><div class="training-actions"><a href="https://drive.google.com/file/d/14nAUW86VPG86sJpEyKUdeZoBBRtixxQX/view?usp=drive_link" target="_blank" class="btn-access">üì• Baixar Treinamento</a><button onclick="deleteTraining(1769175951498)" class="btn-delete">üóëÔ∏è</button></div></div></div>
        </div>
    </div>

    <div id="statusMessage" class="status-message status-success">Treinamento adicionado com sucesso! üéâ</div>

</div>

<script>
        let trainings = [
  {
    "id": 1764954772716,
    "title": "Treinamento de Credenciamento - Novas regras",
    "category": "Processos",
    "duration": "1h 30Min",
    "link": "file:///Users/teixeira.rodrigo/Downloads/treinamento_onboarding_Cred_final_real%20(1).html",
    "description": "Treinamento das novas regras de credenciamento - Obrigatoriedades para credenciar Sellers",
    "createdAt": "05/12/2025"
  },
  {
    "id": 1764956665339,
    "title": "Treinamento - 12 Regras de Ouro",
    "category": "Processos",
    "duration": "1h 30min",
    "link": "file:///Users/teixeira.rodrigo/Downloads/treinamento_12_regras_completo_final.html",
    "description": "Treinamento voltado para as nossas regras de Excel√™ncia em atendimento.",
    "createdAt": "05/12/2025"
  },
  {
    "id": 1766163109430,
    "title": "Atendimento de Excel√™ncia",
    "category": "Atendimento ao Cliente",
    "duration": "1h 30m",
    "link": "file:///Users/teixeira.rodrigo/Downloads/treinamento_cards_detalhados%20(2).html",
    "description": "Atendimento com linguagem mais pratica",
    "createdAt": "19/12/2025"
  },
  {
    "id": 1768858104867,
    "title": "Liquida√ß√£o",
    "category": "Tecnologia e Ferramentas",
    "duration": "2h ",
    "link": "file:///Users/teixeira.rodrigo/Downloads/treinamento_liquidacao_rotas.html",
    "description": "Treinamento completo sobre o processo pelo qual a Institui√ß√£o Credenciadora realiza o repasse das transa√ß√µes associadas a um seller, transformando receb√≠veis em saldo na conta gr√°fica e efetuando a gera√ß√£o e liquida√ß√£o das transfer√™ncias.",
    "createdAt": "19/01/2026"
  },
  {
    "id": 1769175054561,
    "title": "Pix - POS - Video",
    "category": "Atendimento ao Cliente",
    "duration": "0h 32 min",
    "link": "https://drive.google.com/file/d/1SdYBNG8E8mzhK1Nv0KXo0jGZZWWRML49/view?usp=drive_link",
    "description": "Bernardo Lima apresentou a nova funcionalidade de Pix por aproxima√ß√£o da Zup, que permite a transmiss√£o de informa√ß√µes do Pix via NFC para o dispositivo do comprador, tornando-o um concorrente direto do TEP. Ele explicou a jornada do pagamento, compatibilidade com dispositivos Android NFC e terminais Smart da Zup, e as atualiza√ß√µes e o rollout j√° realizados. Bernardo Lima, Izabella Santos, N√∫bia Malvar, Caique Tavares, Nicoly Moraes e Liliane Sena discutiram requisitos, compatibilidade banc√°ria e a exclusividade da funcionalidade da Zup.\n",
    "createdAt": "23/01/2026"
  },
  {
    "id": 1769175181624,
    "title": "PIX Parte 1 - Video",
    "category": "Atendimento ao Cliente",
    "duration": "00h 33 min",
    "link": "https://drive.google.com/file/d/17f6HiCivJHCkqvsv6Wvvnd6Nt6QQ2QU9/view?usp=drive_link",
    "description": "Link do Material: https://docs.google.com/presentation/d/1ywX-96gKcHV3JUNuzTxk9D4bBCUEEPIi/edit?usp=drive_link&ouid=103879541825733598826&rtpof=true&sd=true\n\n",
    "createdAt": "23/01/2026"
  },
  {
    "id": 1769175279073,
    "title": "Pix Parte 2 - Video",
    "category": "Atendimento ao Cliente",
    "duration": "00h : 31 Min",
    "link": "https://drive.google.com/file/d/17m44pZ7Fn7lEIXudxatZtE1riwcSdUrZ/view?usp=drive_link",
    "description": "Material de apoio: https://docs.google.com/presentation/d/1DCtELf2gAy9Bu1YA6l69GlsFKcwz4QAC/edit?usp=drive_link&ouid=103879541825733598826&rtpof=true&sd=true",
    "createdAt": "23/01/2026"
  },
  {
    "id": 1769175402603,
    "title": "Split de Pagamento - Video",
    "category": "Atendimento ao Cliente",
    "duration": "00h : 32 Min",
    "link": "https://drive.google.com/file/d/1Blq7T_sQ9pmIzTkXwT-kGABSinYWdAyF/view?usp=drive_link",
    "description": "Material de apoio: https://docs.google.com/presentation/d/1YnMghAgYjRMruZHeAQFJXN73syI3wGDN/edit?usp=drive_link&ouid=103879541825733598826&rtpof=true&sd=true",
    "createdAt": "23/01/2026"
  },
  {
    "id": 1769175613791,
    "title": "Liquida√ß√£o",
    "category": "Atendimento ao Cliente",
    "duration": "00h : 30 Min",
    "link": "https://docs.google.com/presentation/d/1CCKLYPNK6lgq_ybIHVl02dRiv_sKATUe/edit?usp=drive_link&ouid=103879541825733598826&rtpof=true&sd=true",
    "description": "Material de apoio do treinamento sobre Repasse Financeiro\n",
    "createdAt": "23/01/2026"
  },
  {
    "id": 1769175754115,
    "title": "Registro de Receb√≠vel - Video",
    "category": "Atendimento ao Cliente",
    "duration": "00h : 58 Min",
    "link": "https://drive.google.com/file/d/1cibAf5lZLMxd0Ll55b5v2JutVsC0GdzF/view?usp=drive_link",
    "description": "Material de apoio do treinamento sobre Registro de Receb√≠vel - CERC\n",
    "createdAt": "23/01/2026"
  },
  {
    "id": 1769175951498,
    "title": "Adquir√™ncia - Cart√£o Presente",
    "category": "Atendimento ao Cliente",
    "duration": "00h : 42 Min",
    "link": "https://drive.google.com/file/d/14nAUW86VPG86sJpEyKUdeZoBBRtixxQX/view?usp=drive_link",
    "description": "Material de Apoio: https://docs.google.com/presentation/d/1dxZQg2J1qz2EQCvhv93Sf7R7sVpWlAJf/edit?usp=drive_link&ouid=103879541825733598826&rtpof=true&sd=true",
    "createdAt": "23/01/2026"
  }
];

        function init() {
            loadTrainings();
            renderTrainings();
            updateStats();
            setupEventListeners();
            if (trainings.length === 0) {
                addSampleData();
            }
        }

        function setupEventListeners() {
            document.getElementById('trainingForm').addEventListener('submit', function(e) {
                e.preventDefault();
                addTraining();
            });
        }

        function addTraining() {
            const training = {
                id: Date.now(),
                title: document.getElementById('title').value,
                category: document.getElementById('category').value,
                duration: document.getElementById('duration').value,
                link: document.getElementById('link').value,
                description: document.getElementById('description').value,
                createdAt: new Date().toLocaleDateString('pt-BR')
            };

            trainings.push(training);
            saveTrainings();
            renderTrainings();
            updateStats();
            document.getElementById('trainingForm').reset();
            showStatus('Treinamento adicionado com sucesso! üéâ');
        }

        function deleteTraining(id) {
            if (confirm('Tem certeza que deseja excluir este treinamento?')) {
                trainings = trainings.filter(function(training) {
                    return training.id !== id;
                });
                saveTrainings();
                renderTrainings();
                updateStats();
                showStatus('Treinamento removido! üóëÔ∏è');
            }
        }

        function renderTrainings() {
            const grid = document.getElementById('trainingsGrid');
            
            if (trainings.length === 0) {
                grid.innerHTML = '<div class="empty-state"><div class="empty-state-icon">üìö</div><h3>Nenhum treinamento cadastrado</h3><p>Adicione o primeiro treinamento usando o formul√°rio acima!</p></div>';
                return;
            }

            let html = '';
            trainings.forEach(function(training) {
                html += '<div class="training-card">';
                html += '<h3 class="training-title">' + training.title + '</h3>';
                html += '<p class="training-description">' + training.description + '</p>';
                html += '<div class="training-meta">';
                html += '<span class="training-duration">' + training.duration + '</span>';
                html += '<span class="training-category">' + training.category + '</span>';
                html += '</div>';
                html += '<div class="training-actions">';
                html += '<a href="' + training.link + '" target="_blank" class="btn-access">üì• Baixar Treinamento</a>';
                html += '<button onclick="deleteTraining(' + training.id + ')" class="btn-delete">üóëÔ∏è</button>';
                html += '</div>';
                html += '</div>';
            });
            
            grid.innerHTML = html;
            
            // Atualizar contador na sidebar
            const sidebarCount = document.getElementById('sidebarTrainingCount');
            if (sidebarCount) {
                sidebarCount.textContent = trainings.length;
            }
        }

        function updateStats() {
            const totalTrainings = trainings.length;
            const categories = [];
            trainings.forEach(function(training) {
                if (categories.indexOf(training.category) === -1) {
                    categories.push(training.category);
                }
            });
            const totalCategories = categories.length;
            
            let totalMinutes = 0;
            trainings.forEach(function(training) {
                const duration = training.duration.toLowerCase();
                const hoursMatch = duration.match(/([0-9]+)h/);
                const minutesMatch = duration.match(/([0-9]+)min/);
                
                if (hoursMatch) totalMinutes += parseInt(hoursMatch[1]) * 60;
                if (minutesMatch) totalMinutes += parseInt(minutesMatch[1]);
            });
            
            const totalHours = Math.floor(totalMinutes / 60);
            const remainingMinutes = totalMinutes % 60;
            const totalHoursText = remainingMinutes > 0 ? totalHours + 'h ' + remainingMinutes + 'min' : totalHours + 'h';

            document.getElementById('totalTrainings').textContent = totalTrainings;
            document.getElementById('totalCategories').textContent = totalCategories;
            document.getElementById('totalHours').textContent = totalHoursText;
        }

        function saveTrainings() {
            localStorage.setItem('cxTrainings', JSON.stringify(trainings));
        }

        function loadTrainings() {
            const saved = localStorage.getItem('cxTrainings');
            if (saved) {
                trainings = JSON.parse(saved);
            }
        }

        function saveDashboard() {
            const currentHTML = document.documentElement.outerHTML;
            const currentData = JSON.stringify(trainings, null, 2);
            
            const newHTML = currentHTML.replace(
                /let trainings = \[[\s\S]*?\];/,
                'let trainings = ' + currentData + ';'
            );

            const blob = new Blob([newHTML], { type: 'text/html' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'universidade-cx-' + new Date().toISOString().split('T')[0] + '.html';
            a.click();
            URL.revokeObjectURL(url);

            showStatus('Dashboard completo salvo! üíæ Abra o novo arquivo.');
        }

        function exportData() {
            const data = JSON.stringify(trainings, null, 2);
            const blob = new Blob([data], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'universidade-cx-dados-' + new Date().toISOString().split('T')[0] + '.json';
            a.click();
            URL.revokeObjectURL(url);
            
            showStatus('Dados exportados com sucesso! üì§');
        }

        function importData(input) {
            const file = input.files[0];
            if (!file) return;

            const reader = new FileReader();
            reader.onload = function(e) {
                try {
                    const importedData = JSON.parse(e.target.result);
                    if (Array.isArray(importedData)) {
                        if (confirm('Importar ' + importedData.length + ' treinamento(s)? Isso substituir√° os dados atuais.')) {
                            trainings = importedData;
                            saveTrainings();
                            renderTrainings();
                            updateStats();
                            showStatus(importedData.length + ' treinamento(s) importado(s) com sucesso! üì•');
                        }
                    } else {
                        throw new Error('Formato inv√°lido');
                    }
                } catch (error) {
                    showStatus('Erro ao importar arquivo. Verifique o formato. ‚ùå', 'error');
                }
            };
            reader.readAsText(file);
            
            input.value = '';
        }

        function clearAllData() {
            if (confirm('‚ö†Ô∏è ATEN√á√ÉO: Isso ir√° apagar TODOS os treinamentos. Tem certeza?')) {
                trainings = [];
                saveTrainings();
                renderTrainings();
                updateStats();
                showStatus('Todos os dados foram removidos! üóëÔ∏è', 'error');
            }
        }

        function showStatus(message, type = 'success') {
            const statusDiv = document.getElementById('statusMessage');
            statusDiv.textContent = message;
            statusDiv.className = 'status-message show status-' + type;
            
            setTimeout(function() {
                statusDiv.classList.remove('show');
            }, 3000);
        }

        function toggleFullscreen() {
            if (!document.fullscreenElement) {
                document.documentElement.requestFullscreen();
            } else {
                document.exitFullscreen();
            }
        }

// === SISTEMA DE USU√ÅRIOS ===
let currentUser = null;
let userStats = { totalAccess: 0, searchCount: 0, trainingAccess: [], activities: [] };

document.addEventListener('DOMContentLoaded', function() {
    initUserSystem();
    init();
});

function initUserSystem() {
    console.log('üîê Iniciando sistema de usu√°rios...');
    
    const userData = localStorage.getItem('zoop_user');
    if (userData) {
        currentUser = JSON.parse(userData);
        const stats = localStorage.getItem(`zoop_stats_${currentUser.email}`);
        if (stats) userStats = JSON.parse(stats);
        showLoggedIn();
        userStats.totalAccess++;
        saveStats();
    } else {
        showLogin();
    }
    
    const form = document.getElementById('loginForm');
    if (form) form.addEventListener('submit', handleLogin);
}

function handleLogin(event) {
    event.preventDefault();
    
    const name = document.getElementById('userName').value.trim();
    const email = document.getElementById('userEmail').value.trim();
    
    if (name && email) {
        currentUser = { name, email, joinDate: new Date().toISOString() };
        
        const existing = localStorage.getItem(`zoop_stats_${email}`);
        if (existing) {
            userStats = JSON.parse(existing);
        } else {
            userStats = {
                totalAccess: 1,
                searchCount: 0,
                trainingAccess: [],
                activities: [{ action: 'üéâ Primeiro acesso', timestamp: new Date().toISOString() }]
            };
        }
        
        localStorage.setItem('zoop_user', JSON.stringify(currentUser));
        saveStats();
        showLoggedIn();
        addActivity('üîê Login realizado');
    }
}

function showLogin() {
    document.getElementById('loginOverlay').style.display = 'flex';
    document.getElementById('userInfo').style.display = 'none';
}

function showLoggedIn() {
    document.getElementById('loginOverlay').style.display = 'none';
    document.getElementById('userInfo').style.display = 'flex';
    document.getElementById('displayName').textContent = currentUser.name.split(' ')[0];
    document.getElementById('displayEmail').textContent = currentUser.email;
    updateDashboard();
}

function updateDashboard() {
    document.getElementById('totalAccess').textContent = userStats.totalAccess;
    document.getElementById('trainingCount').textContent = userStats.trainingAccess.length;
    document.getElementById('searchCount').textContent = userStats.searchCount;
    
    const activities = userStats.activities.slice(-5).reverse();
    const log = document.getElementById('activityLog');
    log.innerHTML = activities.map(act => 
        `<div class="activity-item"><span>${act.action}</span><span>${new Date(act.timestamp).toLocaleDateString()}</span></div>`
    ).join('');
}

function addActivity(action) {
    userStats.activities.push({ action, timestamp: new Date().toISOString() });
    if (userStats.activities.length > 20) userStats.activities = userStats.activities.slice(-20);
    saveStats();
    updateDashboard();
}

function saveStats() {
    if (currentUser) {
        localStorage.setItem(`zoop_stats_${currentUser.email}`, JSON.stringify(userStats));
    }
}

function toggleDashboard() {
    const dash = document.getElementById('userDashboard');
    if (dash.style.display === 'none') {
        dash.style.display = 'block';
        dash.scrollIntoView({ behavior: 'smooth' });
        addActivity('üìä Visualizou dashboard');
    } else {
        dash.style.display = 'none';
    }
}

function logout() {
    if (confirm('Deseja sair?')) {
        localStorage.removeItem('zoop_user');
        currentUser = null;
        showLogin();
    }
}

// === SIDEBAR SYSTEM ===
let sidebarCollapsed = false;
let startTime = new Date();

function toggleSidebar() {
    const sidebar = document.getElementById('sidebar');
    sidebarCollapsed = !sidebarCollapsed;
    
    if (sidebarCollapsed) {
        sidebar.classList.add('collapsed');
    } else {
        sidebar.classList.remove('collapsed');
    }
    
    if (window.innerWidth <= 768) {
        sidebar.classList.toggle('mobile-open', !sidebarCollapsed);
    }
    
    console.log('üì± Sidebar:', sidebarCollapsed ? 'Recolhida' : 'Expandida');
    
    if (currentUser) {
        addActivity(`üì± ${sidebarCollapsed ? 'Recolheu' : 'Expandiu'} sidebar`);
    }
}

function updateSidebarStats() {
    const now = new Date();
    const uptime = Math.floor((now - startTime) / 1000 / 60);
    const uptimeElement = document.getElementById('uptime');
    
    if (uptimeElement) {
        if (uptime < 60) {
            uptimeElement.textContent = uptime + 'm';
        } else {
            const hours = Math.floor(uptime / 60);
            const mins = uptime % 60;
            uptimeElement.textContent = hours + 'h' + (mins > 0 ? ' ' + mins + 'm' : '');
        }
    }
    
    const todayUsersEl = document.getElementById('todayUsers');
    if (todayUsersEl && currentUser) {
        todayUsersEl.textContent = '1+';
    }
}

function scrollToSearch() {
    const searchContainer = document.querySelector('.search-container');
    if (searchContainer) {
        searchContainer.scrollIntoView({ behavior: 'smooth', block: 'center' });
        document.getElementById('searchInput')?.focus();
        if (currentUser) addActivity('üîç Navegou para pesquisa');
    }
}

function scrollToTrainings() {
    const trainingsContainer = document.querySelector('.container');
    if (trainingsContainer) {
        trainingsContainer.scrollIntoView({ behavior: 'smooth', block: 'start' });
        if (currentUser) addActivity('üìã Navegou para treinamentos');
    }
}

function handleResize() {
    const sidebar = document.getElementById('sidebar');
    if (window.innerWidth <= 768) {
        sidebar.classList.add('collapsed');
        sidebar.classList.remove('mobile-open');
        sidebarCollapsed = true;
    }
}

document.addEventListener('DOMContentLoaded', function() {
    updateSidebarStats();
    setInterval(updateSidebarStats, 60000);
    window.addEventListener('resize', handleResize);
    if (window.innerWidth <= 768) {
        handleResize();
    }
});

// === SISTEMA DE PESQUISA INTELIGENTE ===
console.log('üîç Iniciando Sistema de Pesquisa Zoop...');

let allTrainings = [];
let filteredTrainings = [];

document.addEventListener('DOMContentLoaded', function() {
    console.log('üìã DOM carregado, inicializando pesquisa...');
    setTimeout(() => {
        initializeSearch();
        setupSearchListeners();
    }, 500);
});

function initializeSearch() {
    console.log('üîß Inicializando sistema de pesquisa...');
    
    const possibleSelectors = [
        '.training-card',
        '[class*="training"]',
        '[class*="card"]',
        '.gallery > div',
        '#trainingsGrid > div',
        'div[onclick*="window.open"]'
    ];
    
    let trainingCards = [];
    
    for (let selector of possibleSelectors) {
        trainingCards = document.querySelectorAll(selector);
        if (trainingCards.length > 0) {
            console.log(`‚úÖ Encontrados ${trainingCards.length} cards com seletor: ${selector}`);
            break;
        }
    }
    
    if (trainingCards.length === 0) {
        console.warn('‚ö†Ô∏è Nenhum card encontrado, tentando busca mais ampla...');
        const allDivs = document.querySelectorAll('div');
        trainingCards = Array.from(allDivs).filter(div => {
            const text = div.textContent.toLowerCase();
            return text.includes('treinamento') || text.includes('credenciamento') || 
                   text.includes('regras') || text.includes('split') || text.includes('liquida√ß√£o');
        });
        console.log(`üîç Busca ampla encontrou ${trainingCards.length} elementos`);
    }
    
    allTrainings = Array.from(trainingCards).map((card, index) => {
        const titleSelectors = ['.training-title', 'h1', 'h2', 'h3', 'h4', '.title'];
        const descSelectors = ['.training-description', 'p', '.description', '.desc'];
        const categorySelectors = ['.training-category', '.category-tag', '.category', '.tag'];
        const durationSelectors = ['.training-duration', '.duration', '.time'];
        
        let titleEl = null, descEl = null, categoryEl = null, durationEl = null;
        
        for (let sel of titleSelectors) {
            titleEl = card.querySelector(sel);
            if (titleEl) break;
        }
        
        for (let sel of descSelectors) {
            descEl = card.querySelector(sel);
            if (descEl) break;
        }
        
        for (let sel of categorySelectors) {
            categoryEl = card.querySelector(sel);
            if (categoryEl) break;
        }
        
        for (let sel of durationSelectors) {
            durationEl = card.querySelector(sel);
            if (durationEl) break;
        }
        
        const trainingData = {
            element: card,
            title: titleEl?.textContent?.toLowerCase() || '',
            description: descEl?.textContent?.toLowerCase() || '',
            category: categoryEl?.textContent?.toLowerCase() || '',
            duration: durationEl?.textContent?.toLowerCase() || '',
            fullText: card.textContent.toLowerCase(),
            index: index
        };
        
        console.log(`üìÑ Card ${index + 1}:`, {
            title: trainingData.title.substring(0, 30) + '...',
            hasDescription: !!trainingData.description,
            hasCategory: !!trainingData.category
        });
        
        return trainingData;
    });
    
    filteredTrainings = [...allTrainings];
    updateResultsCount(allTrainings.length, allTrainings.length);
    
    console.log(`‚úÖ Sistema inicializado com ${allTrainings.length} treinamentos`);
}

function setupSearchListeners() {
    const searchInput = document.getElementById('searchInput');
    if (!searchInput) {
        console.error('‚ùå Campo de pesquisa n√£o encontrado!');
        return;
    }
    
    console.log('üéØ Configurando listeners...');
    
    let searchTimeout;
    
    searchInput.addEventListener('input', function() {
        const query = this.value.trim();
        console.log('üîç Pesquisando:', query);
        
        clearTimeout(searchTimeout);
        searchTimeout = setTimeout(() => {
            performSearch(query);
        }, 200);
    });
    
    searchInput.addEventListener('keydown', function(e) {
        if (e.key === 'Escape') {
            clearSearch();
        }
    });
    
    setTimeout(() => {
        if (allTrainings.length > 0) {
            console.log('‚úÖ Sistema de pesquisa operacional!');
        } else {
            console.warn('‚ö†Ô∏è Nenhum treinamento foi indexado');
        }
    }, 1000);
}

function performSearch(query) {
    const searchTerm = query.toLowerCase().trim();
    const clearBtn = document.getElementById('clearBtn');
    
    console.log('üîç Executando pesquisa para:', `"${searchTerm}"`);
    
    if (searchTerm === '') {
        showAllTrainings();
        if (clearBtn) clearBtn.style.display = 'none';
        return;
    }
    
    if (clearBtn) clearBtn.style.display = 'inline-block';
    
    // Algoritmo de pesquisa melhorado
    filteredTrainings = allTrainings.filter(training => {
        const searchWords = searchTerm.split(' ').filter(word => word.length > 0);
        
        const hasMatch = searchWords.some(word => {
            return training.title.includes(word) || 
                   training.description.includes(word) || 
                   training.category.includes(word) ||
                   training.duration.includes(word) ||
                   training.fullText.includes(word);
        });
        
        return hasMatch;
    });
    
    console.log(`üìä ${filteredTrainings.length} resultados de ${allTrainings.length} total`);
    
    allTrainings.forEach(training => {
        const isVisible = filteredTrainings.includes(training);
        
        if (isVisible) {
            training.element.classList.remove('hidden');
            training.element.style.display = '';
            highlightSearchTerms(training.element, searchTerm);
        } else {
            training.element.classList.add('hidden');
            training.element.style.display = 'none';
        }
    });
    
    updateResultsCount(filteredTrainings.length, allTrainings.length);
    
    if (filteredTrainings.length > 0) {
        setTimeout(() => {
            filteredTrainings[0].element.scrollIntoView({ 
                behavior: 'smooth', 
                block: 'center' 
            });
        }, 300);
    }
    
    if (currentUser) {
        userStats.searchCount++;
        addActivity(`üîç Pesquisou: "${searchTerm.substring(0, 15)}${searchTerm.length > 15 ? '...' : ''}"`);
        saveStats();
    }
}

function highlightSearchTerms(element, searchTerm) {
    try {
        const highlighted = element.querySelectorAll('.highlight');
        highlighted.forEach(el => {
            el.outerHTML = el.innerHTML;
        });
        
        const searchWords = searchTerm.split(' ').filter(word => word.length > 1);
        const textElements = element.querySelectorAll('h1, h2, h3, h4, p, span, .training-title, .training-description');
        
        textElements.forEach(textEl => {
            let content = textEl.innerHTML;
            searchWords.forEach(word => {
                try {
                    const escapedWord = word.replace(/[.*+?^${}()|[\]\\]/g, '\\$&');
                    const regex = new RegExp(`(${escapedWord})`, 'gi');
                    content = content.replace(regex, '<span class="highlight">$1</span>');
                } catch (e) {
                    console.warn('Erro ao aplicar highlight:', e);
                }
            });
            textEl.innerHTML = content;
        });
    } catch (error) {
        console.warn('Erro ao destacar termos:', error);
    }
}

function searchByTag(tag) {
    console.log('üè∑Ô∏è Pesquisa por tag:', tag);
    const searchInput = document.getElementById('searchInput');
    if (searchInput) {
        searchInput.value = tag;
        performSearch(tag);
        
        document.querySelectorAll('.search-tag').forEach(t => {
            t.style.background = 'rgba(224, 96, 32, 0.1)';
            t.style.color = '#E06020';
        });
        
        if (event && event.target) {
            event.target.style.background = '#E06020';
            event.target.style.color = 'white';
            
            setTimeout(() => {
                event.target.style.background = 'rgba(224, 96, 32, 0.1)';
                event.target.style.color = '#E06020';
            }, 2000);
        }
    }
}

function clearSearch() {
    console.log('üîÑ Limpando pesquisa...');
    const searchInput = document.getElementById('searchInput');
    const clearBtn = document.getElementById('clearBtn');
    
    if (searchInput) searchInput.value = '';
    if (clearBtn) clearBtn.style.display = 'none';
    
    showAllTrainings();
    
    document.querySelectorAll('.search-tag').forEach(tag => {
        tag.style.background = 'rgba(224, 96, 32, 0.1)';
        tag.style.color = '#E06020';
    });
}

function showAllTrainings() {
    console.log('üëÅÔ∏è Mostrando todos os treinamentos...');
    
    allTrainings.forEach(training => {
        training.element.classList.remove('hidden');
        training.element.style.display = '';
    });
    
    const highlighted = document.querySelectorAll('.highlight');
    highlighted.forEach(el => {
        el.outerHTML = el.innerHTML;
    });
    
    filteredTrainings = [...allTrainings];
    updateResultsCount(allTrainings.length, allTrainings.length);
}

function updateResultsCount(showing, total) {
    const resultsCount = document.getElementById('resultsCount');
    if (resultsCount) {
        if (showing === total) {
            resultsCount.innerHTML = `Mostrando todos os ${total} treinamentos`;
        } else if (showing === 0) {
            resultsCount.innerHTML = `‚ùå Nenhum treinamento encontrado<div class="no-results">üîç Tente outras palavras-chave</div>`;
        } else {
            resultsCount.innerHTML = `üìã Mostrando ${showing} de ${total} treinamentos`;
        }
    }
}

// Rastrear cliques em treinamentos
document.addEventListener('click', function(e) {
    if (currentUser && e.target.closest('[onclick*="window.open"]')) {
        const card = e.target.closest('.training-card');
        if (card) {
            const title = card.querySelector('.training-title, h3');
            const name = title ? title.textContent.trim().substring(0, 30) : 'Treinamento';
            userStats.trainingAccess.push({ name, timestamp: new Date().toISOString() });
            addActivity(`üìö Acessou: ${name}`);
            saveStats();
        }
    }
});

console.log('‚úÖ Sistema de pesquisa ativo!');

// === SISTEMA DE CONTADORES COMPARTILHADOS ===

// CONFIGURA√á√ÉO - J√Å CONFIGURADO COM SUAS INFORMA√á√ïES
const GOOGLE_SCRIPT_URL = 'https://script.google.com/a/macros/ifood.com.br/s/AKfycbzwKKkyXQ0PUdMIvW-nNBFbPKNR3YcoNwR7LeO8torLShyB_X-AS0pzJicHXNiOXWY75A/exec';
const ADMIN_EMAILS = ['rodrigo.teixeira@ifood.com.br'];

let isAdmin = false;
let machineId = generateMachineId();
let globalStats = {
    totalAccess: 0,
    uniqueUsers: 0,
    todayAccess: 0
};

function generateMachineId() {
    const canvas = document.createElement('canvas');
    const ctx = canvas.getContext('2d');
    ctx.textBaseline = 'top';
    ctx.font = '14px Arial';
    ctx.fillText('Fingerprint', 2, 2);
    
    const fingerprint = [
        navigator.userAgent,
        navigator.language,
        screen.width + 'x' + screen.height,
        new Date().getTimezoneOffset(),
        canvas.toDataURL()
    ].join('|');
    
    let hash = 0;
    for (let i = 0; i < fingerprint.length; i++) {
        const char = fingerprint.charCodeAt(i);
        hash = ((hash << 5) - hash) + char;
        hash = hash & hash;
    }
    
    return Math.abs(hash).toString(36);
}

async function initSharedCounters() {
    console.log('üåê Inicializando contadores compartilhados...');
    console.log('üÜî Machine ID:', machineId);
    
    if (currentUser && ADMIN_EMAILS.includes(currentUser.email)) {
        isAdmin = true;
        document.getElementById('adminPanel').style.display = 'block';
        console.log('üëë Usu√°rio admin detectado');
    }
    
    await registerAccess();
    await fetchGlobalStats();
    
    setInterval(fetchGlobalStats, 30000);
}

async function registerAccess() {
    try {
        setSyncStatus('syncing', 'Registrando acesso...');
        
        const accessData = {
            action: 'register_access',
            machineId: machineId,
            userId: currentUser?.email || 'anonimo',
            userName: currentUser?.name || 'Usu√°rio An√¥nimo',
            timestamp: new Date().toISOString(),
            userAgent: navigator.userAgent,
            language: navigator.language,
            timezone: Intl.DateTimeFormat().resolvedOptions().timeZone
        };
        
        const response = await fetch(GOOGLE_SCRIPT_URL, {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify(accessData)
        });
        
        const result = await response.json();
        
        if (result.success) {
            console.log('‚úÖ Acesso registrado:', result.data);
            setSyncStatus('connected', 'Conectado');
        } else {
            throw new Error(result.error);
        }
        
    } catch (error) {
        console.error('‚ùå Erro ao registrar acesso:', error);
        setSyncStatus('error', 'Erro de conex√£o');
        useFallbackData();
    }
}

async function fetchGlobalStats() {
    try {
        setSyncStatus('syncing', 'Atualizando...');
        
        const response = await fetch(GOOGLE_SCRIPT_URL + '?action=get_stats');
        const result = await response.json();
        
        if (result.success) {
            globalStats = result.data;
            updateStatsDisplay();
            setSyncStatus('connected', `Atualizado ${new Date().toLocaleTimeString()}`);
        } else {
            throw new Error(result.error);
        }
        
    } catch (error) {
        console.error('‚ùå Erro ao buscar estat√≠sticas:', error);
        setSyncStatus('error', 'Offline');
        useFallbackData();
    }
}

function updateStatsDisplay() {
    document.getElementById('globalAccessCount').textContent = globalStats.totalAccess || '--';
    document.getElementById('uniqueUsersCount').textContent = globalStats.uniqueUsers || '--';
    document.getElementById('todayAccessCount').textContent = globalStats.todayAccess || '--';
}

function setSyncStatus(status, text) {
    const dot = document.getElementById('syncStatus');
    const textEl = document.getElementById('syncText');
    
    if (dot) dot.className = `sync-dot ${status}`;
    if (textEl) textEl.textContent = text;
}

function useFallbackData() {
    const fallbackStats = {
        totalAccess: (userStats?.totalAccess || 0) + ' (local)',
        uniqueUsers: '1 (local)',
        todayAccess: '1 (local)'
    };
    
    globalStats = fallbackStats;
    updateStatsDisplay();
}

async function resetCounters() {
    if (!isAdmin) return;
    
    if (confirm('ATEN√á√ÉO: Isso ir√° zerar TODOS os contadores globais. Confirma?')) {
        try {
            const response = await fetch(GOOGLE_SCRIPT_URL, {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ action: 'reset_counters', adminEmail: currentUser.email })
            });
            
            const result = await response.json();
            
            if (result.success) {
                alert('‚úÖ Contadores zerados com sucesso!');
                fetchGlobalStats();
            } else {
                alert('‚ùå Erro: ' + result.error);
            }
        } catch (error) {
            alert('‚ùå Erro de conex√£o: ' + error.message);
        }
    }
}

async function exportStatsData() {
    if (!isAdmin) return;
    
    try {
        const response = await fetch(GOOGLE_SCRIPT_URL + '?action=export_stats');
        const result = await response.json();
        
        if (result.success) {
            const blob = new Blob([JSON.stringify(result.data, null, 2)], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `universidade-cx-stats-${new Date().toISOString().split('T')[0]}.json`;
            a.click();
            URL.revokeObjectURL(url);
        }
    } catch (error) {
        alert('‚ùå Erro ao exportar: ' + error.message);
    }
}

// Integra√ß√£o com sistema de usu√°rios
const originalShowLoggedInFunc = showLoggedIn;
showLoggedIn = function() {
    originalShowLoggedInFunc();
    setTimeout(initSharedCounters, 1000);
};

console.log('üåê Sistema de contadores compartilhados carregado!');


        // Fun√ß√£o de teste super b√°sica
        function testImportSimple() {
            console.log('=== TESTE SIMPLES ===');
            try {
                const training = {
                    id: Date.now(),
                    title: 'Teste Manual',
                    category: 'Teste',
                    duration: '1h',
                    description: 'Teste criado manualmente',
                    link: 'manual',
                    icon: 'üß™'
                };
                
                trainings.push(training);
                saveData();
                updateDisplay();
                
                alert('‚úÖ Teste manual funcionou!');
                console.log('Teste manual OK!');
                
            } catch (error) {
                console.error('Erro no teste:', error);
                alert('‚ùå Erro no teste: ' + error.message);
            }
        }
    
        function handleHTMLUpload(event) {
            const file = event.target.files[0];
            if (!file) return;
            
            const reader = new FileReader();
            reader.onload = function(e) {
                window.uploadedHTMLContent = e.target.result;
                document.getElementById('link').value = '[HTML: ' + file.name + ']';
                
                const titleMatch = e.target.result.match(/<title[^>]*>([^<]*)<\/title>/i);
                if (titleMatch && titleMatch[1] && !document.getElementById('title').value) {
                    document.getElementById('title').value = titleMatch[1].trim();
                }
                
                alert('‚úÖ HTML carregado: ' + file.name);
            };
            reader.readAsText(file);
        }
    
        function testDownloadBasic() {
            try {
                const testHTML = '<!DOCTYPE html><html><head><title>Teste</title></head><body><h1>Download funcionou!</h1></body></html>';
                const blob = new Blob([testHTML], { type: 'text/html' });
                const url = URL.createObjectURL(blob);
                
                const a = document.createElement('a');
                a.href = url;
                a.download = 'teste.html';
                a.style.display = 'none';
                document.body.appendChild(a);
                a.click();
                document.body.removeChild(a);
                
                setTimeout(() => URL.revokeObjectURL(url), 1000);
                alert('üì• Teste iniciado! Verifique se baixou "teste.html"');
                
            } catch (error) {
                alert('‚ùå Erro no teste: ' + error.message);
            }
        }
    
        // Fun√ß√£o para mostrar conte√∫do HTML de forma copi√°vel
        function showTrainingContent(title, htmlContent) {
            // Criar modal para mostrar o conte√∫do
            const modal = document.createElement('div');
            modal.style.cssText = `
                position: fixed; top: 0; left: 0; width: 100%; height: 100%;
                background: rgba(0, 0, 0, 0.8); z-index: 1000;
                display: flex; align-items: center; justify-content: center;
                backdrop-filter: blur(5px);
            `;
            
            const modalContent = document.createElement('div');
            modalContent.style.cssText = `
                background: linear-gradient(135deg, #E06020 0%, #004040 100%);
                border-radius: 20px; padding: 2rem; max-width: 90%; max-height: 90%;
                overflow-y: auto; color: #f0f0f0;
                box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
                border: 2px solid #E06020;
            `;
            
            modalContent.innerHTML = `
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1.5rem;">
                    <h2 style="color: #f0f0f0; margin: 0; font-size: 1.5rem;">üìÑ ${title}</h2>
                    <button onclick="this.closest('div[style*="fixed"]').remove()" 
                            style="background: #E06020; border: none; color: #f0f0f0; 
                                   font-size: 1.5rem; cursor: pointer; border-radius: 50%;
                                   width: 35px; height: 35px; display: flex; align-items: center; justify-content: center;">√ó</button>
                </div>
                
                <div style="background: rgba(255,255,255,0.15); padding: 1.5rem; border-radius: 15px; 
                            margin-bottom: 1.5rem; border-left: 4px solid #E06020;">
                    <h3 style="color: #ffffff; margin-bottom: 1rem; font-size: 1.2rem;">üí° Como usar este c√≥digo:</h3>
                    <ol style="margin: 0; padding-left: 1.5rem; line-height: 1.8; color: #f0f0f0;">
                        <li style="margin-bottom: 0.5rem;"><strong>Clique no bot√£o "üìã Copiar C√≥digo HTML" abaixo</strong></li>
                        <li style="margin-bottom: 0.5rem;"><strong>Abra um editor de texto</strong> (Bloco de Notas, VS Code, etc.)</li>
                        <li style="margin-bottom: 0.5rem;"><strong>Cole o c√≥digo copiado</strong> (Ctrl+V)</li>
                        <li style="margin-bottom: 0.5rem;"><strong>Salve como arquivo .html</strong> (ex: "${title.replace(/[^a-zA-Z0-9]/g, '_')}.html")</li>
                        <li style="margin-bottom: 0.5rem;"><strong>Abra o arquivo salvo no navegador</strong> (duplo clique)</li>
                    </ol>
                    <div style="background: rgba(224, 96, 32, 0.2); padding: 0.8rem; border-radius: 8px; margin-top: 1rem;">
                        <strong>‚úÖ Resultado:</strong> O treinamento funcionar√° perfeitamente em qualquer computador!
                    </div>
                </div>
                
                <div style="margin-bottom: 1.5rem;">
                    <label style="display: block; margin-bottom: 0.8rem; font-weight: bold; font-size: 1.1rem; color: #ffffff;">
                        üìã C√≥digo HTML do Treinamento:
                    </label>
                    <textarea id="htmlContentArea" readonly
                              style="width: 100%; height: 250px; padding: 1rem; border: 2px solid #E06020;
                                     border-radius: 10px; background: rgba(0,0,0,0.4); color: #f0f0f0;
                                     font-family: 'Courier New', monospace; font-size: 0.85rem;
                                     resize: vertical; line-height: 1.4;">${htmlContent}</textarea>
                </div>
                
                <div style="text-align: center; display: flex; gap: 1rem; justify-content: center; flex-wrap: wrap;">
                    <button onclick="copyTrainingCode()" 
                            style="background: linear-gradient(45deg, #E06020, #ff8c42); color: white;
                                   border: none; padding: 15px 30px; border-radius: 25px; cursor: pointer;
                                   font-size: 1.1rem; font-weight: bold; 
                                   box-shadow: 0 4px 15px rgba(224, 96, 32, 0.4);
                                   transition: all 0.3s ease;">üìã Copiar C√≥digo HTML</button>
                    <button onclick="this.closest('div[style*="fixed"]').remove()"
                            style="background: linear-gradient(45deg, #6B7280, #4B5563); color: white;
                                   border: none; padding: 15px 30px; border-radius: 25px; cursor: pointer;
                                   font-size: 1.1rem; font-weight: bold;">‚ùå Fechar</button>
                </div>
                
                <div style="margin-top: 1rem; text-align: center; font-size: 0.9rem; opacity: 0.8;">
                    üí° <em>Este m√©todo funciona em todos os computadores e navegadores!</em>
                </div>
            `;
            
            modal.appendChild(modalContent);
            document.body.appendChild(modal);
            
            // Selecionar texto automaticamente ap√≥s um delay
            setTimeout(() => {
                const textarea = document.getElementById('htmlContentArea');
                if (textarea) {
                    textarea.focus();
                    textarea.select();
                }
            }, 200);
            
            // Adicionar evento para fechar com ESC
            const closeModal = (e) => {
                if (e.key === 'Escape') {
                    modal.remove();
                    document.removeEventListener('keydown', closeModal);
                }
            };
            document.addEventListener('keydown', closeModal);
        }
        
        // Fun√ß√£o para copiar c√≥digo HTML
        function copyTrainingCode() {
            const textarea = document.getElementById('htmlContentArea');
            if (textarea) {
                textarea.select();
                textarea.setSelectionRange(0, 99999); // Para mobile
                
                try {
                    const successful = document.execCommand('copy');
                    if (successful) {
                        // Feedback visual no bot√£o
                        const copyBtn = event.target;
                        const originalText = copyBtn.innerHTML;
                        copyBtn.innerHTML = '‚úÖ Copiado!';
                        copyBtn.style.background = 'linear-gradient(45deg, #10b981, #059669)';
                        
                        setTimeout(() => {
                            copyBtn.innerHTML = originalText;
                            copyBtn.style.background = 'linear-gradient(45deg, #E06020, #ff8c42)';
                        }, 2000);
                        
                        showNotification('‚úÖ C√≥digo HTML copiado com sucesso!\nAgora cole em um arquivo .html', 'success');
                    } else {
                        throw new Error('Comando de c√≥pia falhou');
                    }
                } catch (err) {
                    // Fallback para sele√ß√£o manual
                    showNotification('üìã C√≥digo selecionado! Use Ctrl+C (Cmd+C no Mac) para copiar', 'warning');
                }
            }
        }
    </script>


</body></html>
